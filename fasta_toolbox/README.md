# Fasta toolbox

Generates a fasta file containing taxonomy ids.
You can restrict the proteins returned to Swiss-Prot only, or have both UniprotKB Swiss-Prot and TReMBL. Also, you can ask for reference proteomes only for the given taxonomies, and/or include protein isoforms to the default canonical proteins.

Several options are provided:

* Contaminants: you can choose to add proteins commonly considered as contaminant. These proteins will be tagged as contaminants using the prefix CON (ie. protein sp|P13645 would be renamed CON_sp|P13645). You can check the contaminant proteins with the following fasta files:

  * Keratin proteins: https://iphc-galaxy.u-strasbg.fr/static/contaminants/keratin_contaminants.fasta

  * Trypsin protein: https://iphc-galaxy.u-strasbg.fr/static/contaminants/trypsin_contaminant.fasta

  * Other common contaminant proteins: https://iphc-galaxy.u-strasbg.fr/static/contaminants/other_common_contaminants.fasta

* Remove duplicate proteins: make sure that no sequence appears twice in the list of target proteins. For instance, if the taxonomy you selected contains a contaminant protein, it will not appear with and without the CON tag (only the tagged version will remain).

* Remove subsequences: Remove all proteins which sequence is fully contained in another protein sequence (Warning: this option makes the script much slower).

* Generate decoy entries: after every taxonomies are added, contaminants too, and duplicate and/or sub sequences have been removed if requested, generates the decoy entries based on the final list of proteins. The decoy entries are generated by reversing their sequence, and adding the tag ###REV### prior to the accession number. For instance the protein sp|P12345 would become ###REV###_sp|P12345


**Why is it limited to Uniprot data ?**

Uniprot provides a very fast and complete API to retrieve data and it has been decided to develop this tool around this API only.

Generating Fasta file from NCBI within this tool would be possible, using the Entrez API, but it would not be relevant due to the nature of the NCBI protein database. As said in https://www.ncbi.nlm.nih.gov/protein, "The Protein database is a collection of sequences from several sources, including translations from annotated coding regions in GenBank, RefSeq and TPA, as well as records from SwissProt, PIR, PRF, and PDB". Therefore, you may have the same proteins with different sequences and accessions. For instance, the homo sapiens taxonomy matches to 175,000 entries in UniprotKB/TrEMBL and 20,000 entries UniprotKB/Swiss-Prot, but in all NCBI it matches over 1,4 million entries (and around 40,000 reviewed entries).

If you want a Fasta from one of NCBI RefSeq resource, you should use the 'RefSeq assembly to Fasta' tool and eventually remove sub-sequences. This tool will download the Fasta file for a specific taxonomy from the NCBI FTP and it will be much faster than using the Entrez API or downloading from the Web site.

Eventually, the 'Fasta toolbox' can be used for all Fasta files, even from a different resource or a hand-made one. You can upload this file on Galaxy, and use it with the 'Merge' function so you can add contaminants, remove duplicate entries or generate decoy entries.


